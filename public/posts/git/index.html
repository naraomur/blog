<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  
    class="html theme--light"
  
><head>
  <title>
    Nara Omur
        |
        Rewriting your Git commit history
      

    

  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.111.3"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="Nara Omur" />
  <meta
    name="description"
    content="Engineer | Thinker | Learner"
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.99393b720daa0e4e122d508358dfaa568774f7a5871f48ec1a496f33e554dae6.css"
      integrity="sha256-mTk7cg2qDk4SLVCDWN&#43;qVod096WHH0jsGklvM&#43;VU2uY="
      crossorigin="anonymous"
      type="text/css"
    />
  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css"
    integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.7f3c2281c7f965ce3c64888aa452793252a0416909c181097f81d0a0f7d1624e.css"
    integrity="sha256-fzwigcf5Zc48ZIiKpFJ5MlKgQWkJwYEJf4HQoPfRYk4="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.35fc032da8ede6681675d20a2f862fb9e1045c1d512d495fcf862c054daffef2.css"
    integrity="sha256-NfwDLajt5mgWddIKL4YvueEEXB1RLUlfz4YsBU2v/vI="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/regular.min.3b92357925ea7284f0c6b0378396f39f470f7842ed9702f337e667c4026bf837.css"
    integrity="sha256-O5I1eSXqcoTwxrA3g5bzn0cPeELtlwLzN&#43;ZnxAJr&#43;Dc="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.ebb1096e1976e8cc4e2532cfa050b8f30eb13b8eb06be5cee3e38eb426b838ea.css"
    integrity="sha256-67EJbhl26MxOJTLPoFC48w6xO46wa&#43;XO4&#43;OOtCa4OOo="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicons/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />

  <link rel="canonical" href="https://naraomur.github.io/posts/git/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.f9132794301a01ff16550ed66763482bd848f62243d278f5e550229a158bfd32.js"
    integrity="sha256-&#43;RMnlDAaAf8WVQ7WZ2NIK9hI9iJD0nj15VAimhWL/TI="
    crossorigin="anonymous"
  ></script>

  

  


  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Rewriting your Git commit history"/>
<meta name="twitter:description" content="Making history in a big commercial project where the commiting must be on a top notch accuracy and cleanliness without confusions in the history of a work flow. Being a newbie I had no idea the first time I&rsquo;d pushed the very first changes in a very first task that I supposed to check the git status before commiting and even staging. So when I&rsquo;d sent a pull request to the assignee who happened to encounter the non related file to the task in my first commit."/>



  
  <meta property="og:title" content="Rewriting your Git commit history" />
<meta property="og:description" content="Making history in a big commercial project where the commiting must be on a top notch accuracy and cleanliness without confusions in the history of a work flow. Being a newbie I had no idea the first time I&rsquo;d pushed the very first changes in a very first task that I supposed to check the git status before commiting and even staging. So when I&rsquo;d sent a pull request to the assignee who happened to encounter the non related file to the task in my first commit." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://naraomur.github.io/posts/git/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-24T12:18:16+06:00" />
<meta property="article:modified_time" content="2023-03-24T12:18:16+06:00" /><meta property="og:site_name" content="Nara" />



  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "posts",
        "name": "Rewriting your Git commit history",
        "headline": "Rewriting your Git commit history",
        "alternativeHeadline": "",
        "description": "
      
        Making history in a big commercial project where the commiting must be on a top notch accuracy and cleanliness without confusions in the history of a work flow. Being a newbie I had no idea the first time I\u0026rsquo;d pushed the very first changes in a very first task that I supposed to check the git status before commiting and even staging. So when I\u0026rsquo;d sent a pull request to the assignee who happened to encounter the non related file to the task in my first commit.


      


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/naraomur.github.io\/posts\/git\/"
        },
        "author" : {
            "@type": "Person",
            "name": "Nara Omur"
        },
        "creator" : {
            "@type": "Person",
            "name": "Nara Omur"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "Nara Omur"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "Nara Omur"
        },
        "copyrightYear" : "2023",
        "dateCreated": "2023-03-24T12:18:16.00Z",
        "datePublished": "2023-03-24T12:18:16.00Z",
        "dateModified": "2023-03-24T12:18:16.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "Nara Omur",
            "url": "https://naraomur.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/naraomur.github.io\/favicons\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "https:\/\/naraomur.github.io\/posts\/git\/",
        "wordCount" : "533",
        "genre" : [ 
      
      "Tech"

    
      
        ,

      
      "Blog"

    ],
        "keywords" : [ 
      
      "git"

    
      
        ,

      
      "revert"

    
      
        ,

      
      "rebase"

    ]
    }
  </script>


</head>
<body class="body">
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"
        
      ><div
  class="sidebar
    animated fadeInDown
  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/naraomur.png"
        alt="profile picture"
      />
      
        <div class="sidebar__introduction-title">
          <a href="/">Nara</a>
        </div>
      
      <div class="sidebar__introduction-description">
        <p>Engineer | Thinker | Learner</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a
            href="https://linkedin.com/in/munaraomurbaeva"
            target="_blank"
            rel="noopener me"
            aria-label="Linkedin"
            title="Linkedin"
          >
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="https://github.com/naraomur"
            target="_blank"
            rel="noopener me"
            aria-label="GitHub"
            title="GitHub"
          >
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
        <li class="sidebar__list-item">
          <a
            href="mailto:naraomur@gmail.com"
            target="_blank"
            rel="noopener me"
            aria-label="e-mail"
            title="e-mail"
          >
            <i class="fas fa-envelope fa-2x" aria-hidden="true"></i>
          </a>
        </li>
      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Nara Omur
        2023
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3QDB62WNH6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-3QDB62WNH6');
</script>
</div>
</aside>
      <main
        
          class="wrapper__main"
        
      >
        <header class="header"><div
  class="
    animated fadeInDown
  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        
          <li class="nav__list-item">
            <a
              
              href="/"
              
              title=""
              >Home</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/posts"
              
              title=""
              >Posts</a
            >
          </li>
        

      
        
        
          <li class="nav__list-item">
            <a
              
              href="/portfolio"
              
              title=""
              >Portfolio</a
            >
          </li>
        

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown
    "
  >
    
    <div class="post__content">
      <h1>Rewriting Your Git Commit History</h1>
      <p>Making history in a big commercial project where the commiting must be on a top notch accuracy and cleanliness without confusions in the history of a work flow. Being a newbie I had no idea the first time I&rsquo;d pushed the very first changes in a very first task that I supposed to check the <code>git status</code> before commiting and even staging. So when I&rsquo;d sent a pull request to the assignee who happened to encounter the non related file to the task in my first commit. The assignee asked me to take it out of there as it is ruining the view of the history but himself didn&rsquo;t know how to do it as well as me. That was upon me to figure out. One whole day browsing and messing with the history even more was worth the clear lesson at the end. So if you happened to stumble upon this kind of non pleasant accident here the post comes useful for you.</p>
<p>I had 3 commits away 1 bad commit with the nonrelated.file (needs to be removed).</p>
<p>The easiest to rewrite your story in this case. Before you start make sure you don&rsquo;t have any changes. your work tree must be clean with no changes.</p>
<ol>
<li>Use <code>git show [commit id] -- [Path to the nonrelated.file] | git apply -R</code>. File will fall to the previous state but will go to the changes as a new change.</li>
</ol>
<pre tabindex="0"><code>git show 1ccbe9c8f66 -- Demo/Modules/nonrelated.file | git apply -R 
</code></pre><ol start="2">
<li>
<p><code>git stash</code> to store change for later</p>
</li>
<li>
<p><code>git rebase -i HEAD~n</code> n - number of commits you need to come back. In my case it was 3 commits back</p>
<pre tabindex="0"><code>git rebase -i HEAD~3
</code></pre></li>
<li>
<p>Now you are redirected to the console editor where you will need to press Insert key and delete the <code>pick</code> then type <code>edit</code> in front of the needed commit. After that dial press Insert key, after Esc key then type <code>:wq</code> to save the file. And git will drop back to the bash/shell for you to fix that commit</p>
<p>Git console editor looks as below:
<img src="images/screenshot.jpg" alt="Git bash console editor"></p>
</li>
<li>
<p>Pop the stash by using <code>git stash pop</code>. It will put that &rsquo;new&rsquo; change of the nonrelated.file back to the changes</p>
</li>
<li>
<p>Add the change by <code>git add Demo/Modules/nonrelated.file </code></p>
</li>
<li>
<p><code>git commit -m &quot;the same message as in the fixed commit&quot; --amend</code> to add the change in a commit</p>
</li>
<li>
<p>if you will find yourself in rebase mode still you may terminate by <code>git rebase --abort</code></p>
</li>
<li>
<p><code>git push -f origin O24-720</code> for rewriting the history in remote repository</p>
</li>
<li>
<p>Tadaaa! You can check your both local and remote work flow history which is clean and neat now!</p>
</li>
</ol>
<p>Note: In order to not have this issue always check the changes before staging at least before pushing by <code>git status</code>. There you will see the changed files and in case there accidental one you&rsquo;re always free to cancle the changes by undoing it in the file itself or by the buttons of integrated git in your IDE.</p>
<p>Indeed it was a BIG relief after fixing this seem to be un recognised little accident.</p>
<p>Any questions and concerns please be directed to the contacts at home page.</p>
<p>Thank you,
Your obsessed to express herself being!</p>
</div>
    <div class="post__footer">
      
        <span><a class="category" href="/categories/tech/">Tech</a><a class="category" href="/categories/blog/">Blog</a></span>


      

      
        <span><a class="tag" href="/tags/git/">git</a><a class="tag" href="/tags/revert/">revert</a><a class="tag" href="/tags/rebase/">rebase</a></span>


      
    </div>

    
  </div>

      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        Nara Omur
        2023
      
    </li>
    
  </ul>
</footer>
  
  <script
    type="text/javascript"
    src="/js/medium-zoom.min.1248fa75275e5ef0cbef27e8c1e27dc507c445ae3a2c7d2ed0be0809555dac64.js"
    integrity="sha256-Ekj6dSdeXvDL7yfoweJ9xQfERa46LH0u0L4ICVVdrGQ="
    crossorigin="anonymous"
  ></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3QDB62WNH6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'G-3QDB62WNH6');
</script>
</body>
</html>
